## [Введение](#introduction)
Матрешка - фреймворк для больших и бесконечно расширяемых приложений (в рамках Вселенной, конечно же), написанных на языке JavaScript. Он позволяет построить архитектуру программы так, чтоб ни вы ни ваша команда не запутались в многочисленных сущностях, в дебаггинге логики, описанной в HTML файле, многочисленных ограничениях других фреймворков и непонятных абстракциях.

Двухсторонняя привязка данных и представления осуществляется с помощью метода [bindNode](#Matreshka-bindNode) исключительно в .js (или .es6) файлах и не требует менять HTML, добавляя чуждые {% raw %}{{синтаксические.конструкции}}{% endraw %}. Программист, задав несколько правил, может продолжать работать с данными, забыв о состоянии видимой части приложения.

> Порядок не важен, вы можете объявить привязки после полной реализации логики, отвечающей за данные.

Коллекции в Матрешке представлены классом [Matreshka.Array](#Matreshka.Array), экземпляры которого сами рендерят HTML при добавлении, удалении или изменении элементов. Вы можете сказать, что фреймворк X тоже отрисовывает элементы массива при изменении данных, но в Матрешке эта задача решается невероятно просто и элегантно.

Кроме всего прочего, Матрешка - очень лёгкий для понимания фреймворк. Любой разработчик, от новичка, умеющего писать простые штуки на JavaScript, до опытного ниндзи, разберется без проблем.

Сегодня [[script]]document.write(new Date().getFullYear());[[/script]] год, это значит, что, наконец, пришло время фреймворка без ограничений, жестких правил и сомнительного синтаксиса. Пришло время фреймворка для программистов, которым умправляете вы, а не он управляет вами!

=======
## [С чего начать](#getting-started)
Все популярные фреймворки включает в себя множество удобных и интересных функций. Проблема в том, что новичку порой сложно понять, с чего начинать своё обучение. Изобилие функциональных возможностей того или иного фреймворка наводит на резонный вопрос: "Эй, я должен всё это выучить?".

В этой документации этот недочет решен. Для того, чтоб начать уверенно работать с фреймворком, нужно изучить классы, свойства и методы, помеченные, как важные, флажком [[i class="important"]][[/i]] (их чуть больше десяти). Дальше, при желании, можно постепенно приступать к освоению остальных методов, добавляющих в ваш JavaScript код ту магию, о которой вы и не мечтали.

> Потрясающие возможности HTML5 не обошли стороной и эту страницу. Она доступна оффлайн для любого устройства, от вашего компьютера до мобильного телефона. 

> **Chrome для Android**: зайдите в меню и нажмите "Добавить на главный экран" или "Add to home screen"

> **Safari для iOS**: нажмите на иконку "Action" и выберите "Add to Home Screen"

> **Любые другие устройства**: просто добавьте страницу в закладки 

> Теперь документацию к Матрешке можно читать без подключения к интернету. Если страница тормозит (замечено на Android 4.2), переключитесь в режим "По одному".

=======
## [Hello World!](#hello-world)
Написать первое приложение с помощью фреймворка Матрешка очень просто. Для этого:

**1\.** Создайте HTML файл со следующим содержимым

```html
<!DOCTYPE html>
<html>
	<head>
		<title>Моё первое приложение на базе Матрешки</title>
	</head>
	<body>
		<input type="text" class="my-input">
		<div class="my-output"></div>
		<script src="https://cdn.example.com/matreshka.min.js"></script>
		<script src="js/app.js"></script>
	</body>
</html>
```


**2\.** Напишите свой первый класс, наследующий Матрешку, создав файл **js/app.js**

```js
var Application = Class({
	'extends': Matreshka,
	constructor: function() {
	
		// связываем свойство x и текстовое поле
		this.bindNode( 'x', '.my-input' );
		
		// связываем свойство x и блок с классом my-output
		this.bindNode( 'x', '.my-output', {
			setValue: function( v ) {
				this.innerHTML = v;
			}
		});
		
		// если свойсово "х" изменилось, сообщаем об этом в консоли
		this.on( 'change:x', function() {
			console.log( 'x изменен на ' + this.x );
		});
	}
});

var app = new Application();
```


**3\.** Это всё!

Теперь можете открыть консоль разработчика (клавиша F12) и написать:
```js
app.x = 'Привет Мир!';
```
Круто, не правда ли? Теперь можно работать напрямую со свойствами без болезненных инкапсуляций.

> Матрешка использует объектно-ориентированный подход основанный на классах, которые зарекомендовали себя самой с лучшей стороны в большинстве языков программирования: Python, C#, Java и многих других. Такое решение позволяет легко перейти на новые возможности синтаксиса JavaScript, описанные в стандарте ECMAScript 2015 и поддерживаемые Матрешкой. Проекты типа [6to5](https://github.com/6to5/6to5) уже сегодня позволяют использовать крутой синтаксис JS нового поколения.
```js
class Application extends Matreshka {
	constructor: function() {
		this.bindNode( 'x', '.my-input' );
		this.bindNode( 'x', '.my-output', {
			setValue: function( v ) {
				this.innerHTML = v;
			}
		});
		this.on( 'change:x', function() {
			console.log( 'x изменен на ' + this.x );
		});
	}
}
```

*Тут будет ссылка на живой пример*

#### Ссылки
* [Класс Matreshka](#Matreshka)
* [Метод Matreshka#bindNode](#Matreshka-bindNode)
* [Метод Matreshka#on](#Matreshka-on)
* [Функция Class](#Class)

=======
## [TodoMVC](#todomvc)
Как известно, самым эффективным способом понять, стоит ли изучать библиотеку или фрефмворк является код. Проект [TodoMVC](http://todomvc.com/) объединяет десятки фреймворков позволяя их сравнить на примере одного и того же приложения.

![TodoMVC](img/todomvc.png)

Посмотрите на [живую реализацию TodoMVC](todo/) на базе Матрешки, а, затем, [взгляните на исходный код с аннотациями](todo/js_ru/docs/app.html). Выглядит очень просто, не так ли?

=======
## [Как подключить?](#how-to-include)
Матрешка - самостоятельный фреймворк, не требующий никаких зависимостей. Но возможность использования уже не современных возможностей из стандарта ECMAScript5 в Internet Explorer 8 отсутствует. Поэтому, если вы поддерживаете IE8 в разрабатываемых вами приложениях, вам нужно подключить еще один JavaScript файл: [es5-shim](https://github.com/es-shims/es5-shim) или любой другой полифил, реализующий возможности ECMAScript5.

Подкючение jQuery для всех браузеров - опционально (хотя, для IE8 рекомендуемо). Вместо этой библиотеки можете воспользоваться другой jQuery-подобной библиотекой, например, [Zepto](http://zeptojs.com/). Если вы вовсе не хотите использовать библиотек, отдавая предпочтение [Vanilla.js](http://vanilla-js.com/), Матрешка будет использовать встроенную микро-библиотеку, которая называется [Балалайка]($b).

```html
<!-- Обязательно для IE8 -->
<script src="js/es5-shim.min.js"></script> 
<script src="js/matreshka.min.js"></script>
```

Кроме этого, Матрешка поддерживает AMD, например, require.js или almond
```js
require(['path/to/matreshka'], function(Matreshka) {
	//...
});
```

Импорт в стиле EcmaScript6 (используя 6to5)
```js
import Matreshka from 'path/to/matreshka';
```